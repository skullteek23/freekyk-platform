<div fxLayout="column" fxLayoutGap="48px" fxLayoutGap.lt-md="24px" class="account-profile-section">

  <app-photo-uploader [url]="profilePhoto" actionBtnLabel="Upload/Change your photo"
    (changeUpload)="uploadPhoto($event)"></app-photo-uploader>

  <span class="mat-caption align red top-line">
    All fields are mandatory to create or join a team.
  </span>
  <div class="div">
    <!-- personal info form -->
    <form [formGroup]="personalInfoForm" fxLayout="column" fxLayout.gt-sm="row wrap" fxLayoutGap.gt-sm="20px">
      <div class="names" fxLayout="row" fxLayoutGap="20px">
        <mat-form-field fxFlex.gt-sm="30%" fxFlex.lt-md="50%" appearance="outline" color="primary">
          <mat-label>My name</mat-label>
          <input required type="text" matInput name="name" formControlName="name" />
          <mat-error *ngIf="this.personalInfoForm.get('name')?.hasError('pattern')">
            Only letters, and spaces are allowed!
          </mat-error>
        </mat-form-field>
        <mat-form-field fxFlex.gt-sm="30%" fxFlex="auto" appearance="outline" color="primary">
          <mat-label>My nickname</mat-label>
          <input required type="text" matInput name="nickname" formControlName="nickname" />
          <mat-error *ngIf="this.personalInfoForm.get('nickname')?.hasError('pattern')">
            Only letters, number & spaces are allowed!
          </mat-error>
        </mat-form-field>
      </div>
      <div fxFlex.gt-sm="100%" class="radio-group" fxLayout fxLayoutGap="16px" fxLayoutAlign.lt-md="start center">
        <span class="radio-label-text mat-caption"> My Gender (*) : </span>
        <mat-radio-group formControlName="gen" color="primary" aria-label="Select gender" fxLayoutGap="8px">
          <mat-radio-button value="M">Male</mat-radio-button>
          <mat-radio-button value="F">Female</mat-radio-button>
        </mat-radio-group>
      </div>
      <mat-form-field fxFlex.gt-sm="30%" appearance="outline" color="primary">
        <mat-label>My birth date</mat-label>
        <input required matInput name="born" formControlName="born" [matDatepicker]="picker" />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="personalInfoForm.get('born')?.errors?.underAge">
          Minimum Age must be 6 years!
        </mat-error>
      </mat-form-field>

    </form>

    <!-- player info form -->
    <form [formGroup]="playingInfoForm" fxLayout="column" fxLayout.gt-sm="row wrap" fxLayoutGap.gt-sm="20px">
      <div fxFlex.gt-sm="auto" class="radio-group" fxLayout fxLayoutGap="16px" fxLayoutAlign.lt-md="start center">
        <span class="radio-label-text mat-caption"> My Strong Foot (*) :</span>
        <mat-radio-group color="primary" aria-label="Select Stronger Foot" fxLayoutGap="8px" formControlName="str_ft">
          <mat-radio-button value="L" selected>Left</mat-radio-button>
          <mat-radio-button value="R">Right</mat-radio-button>
        </mat-radio-group>
      </div>
      <div class="clubbed-fields" fxLayout="row" fxLayoutGap="20px">
        <mat-form-field fxFlex.gt-sm="33%" fxFlex.lt-md="50%" appearance="outline" color="primary" floatLabel="always">
          <mat-label>My Playing Position</mat-label>
          <mat-select required formControlName="pl_pos" placeholder="Select Position">
            <mat-optgroup *ngFor="let group of positions" [label]="group.position">
              <mat-option *ngFor="let name of group.pos_name" [value]="name">
                {{ name }}
              </mat-option>
            </mat-optgroup>
          </mat-select>
        </mat-form-field>

        <mat-form-field fxFlex.gt-sm="33%" fxFlex="auto" appearance="outline" color="primary" floatLabel="always">
          <mat-label>My Jersey Number</mat-label>
          <input required type="tel" matInput name="jer_no" formControlName="jer_no" placeholder="Jersey #" />
          <mat-error *ngIf="this.playingInfoForm.get('jer_no')?.hasError('pattern')">
            Only numbers are allowed!
          </mat-error>
        </mat-form-field>
      </div>

      <div class="clubbed-fields" fxLayout="row" fxLayoutGap="20px">
        <mat-form-field fxFlex.gt-sm="33%" fxFlex.lt-md="50%" appearance="outline" color="primary">
          <mat-label>My Height</mat-label>
          <input required type="tel" matInput name="height" formControlName="height" />

          <span matSuffix>cms</span>
          <mat-error *ngIf="this.playingInfoForm.get('height')?.hasError('pattern')">
            Only numbers are allowed!
          </mat-error>
          <!-- <mat-hint> One Foot equals 12 inches</mat-hint> -->
        </mat-form-field>

        <mat-form-field fxFlex="auto" appearance="outline" color="primary">
          <mat-label>My Weight</mat-label>
          <input required type="tel" matInput name="weight" formControlName="weight" />
          <mat-error *ngIf="this.playingInfoForm.get('weight')?.hasError('pattern')">
            Only numbers are allowed!
          </mat-error>
          <span matSuffix>kg</span>
        </mat-form-field>
      </div>

      <div fxFlex.gt-sm="100%" formGroupName="location" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap.gt-sm="20px">
        <div class="dropdown-container" fxFlex.gt-sm="33%" fxFlex.lt-md="100%">
          <app-searchable-form-field label="Country" [list]="countries" [control]="locationCountry"
            (selectionChange)="onSelectCountry($event)"></app-searchable-form-field>
        </div>

        <div class="dropdown-container" fxFlex-gt-sm="33%" fxFlex.lt-md="100%" fxLayout="row" fxLayoutGap="20px">
          <app-searchable-form-field fxFlex="50%" label="State" [list]="states" [control]="locationState"
            (selectionChange)="onSelectState($event)"></app-searchable-form-field>
          <app-searchable-form-field fxFlex="auto" label="City" [list]="cities"
            [control]="locationCity"></app-searchable-form-field>
        </div>
      </div>

      <mat-form-field fxFlex.gt-sm="100%" appearance="outline" color="primary">
        <mat-label>My Bio</mat-label>
        <textarea required matInput name="bio" formControlName="bio"></textarea>
        <mat-hint align="end">{{this.playingInfoForm.get('bio')?.value?.length}} / {{BIO_MAX_LIMIT}}</mat-hint>
        <mat-error *ngIf="this.playingInfoForm.get('bio')?.hasError('pattern')">
          Only letters, spaces and numbers are allowed!
        </mat-error>
      </mat-form-field>

      <div fxFlex.gt-sm="100%" fxLayoutAlign.gt-sm="start center" fxLayout.lt-md="column">
        <button (click)="onSavePersonalInfo();onSavePlayerInfo()" class="primaryButton buttonText" type="button">
          Save Changes
        </button>
      </div>
    </form>
    <!-- player info form -->
  </div>

  <!-- <span>
    <mat-divider></mat-divider>
  </span> -->

  <!-- fs array form -->
  <!-- <div class="form" id="freestyle-array">
    <p class="dash-h5 align">Showcase your Freestyle Videos</p>
    <form [formGroup]="fsArrayForm" (ngSubmit)="onSaveFreestylerArrayInfo()" fxLayout="column" fxLayout.gt-sm="row wrap"
      fxLayoutGap.gt-sm="20px">
      <div fxFlex.gt-sm="100%" class="form" fxLayout="column" fxLayoutGap="16px">
        <p class="mat-caption align" fxLayoutAlign="start center">
          Add your top freestyle videos uploaded on
          <img class="yt" src="assets/svgs/youtube.svg" alt="Youtube" appFallbackImg/>
        </p>
        <p class="smaller-caption mat-caption align" *ngIf="getFormArray('top_vids', 'fs').length === 0">
          (No video link added,
          <a (click)="onAddControl('top_vids', 'fs')">add one</a>)
        </p>
        <div formArrayName="top_vids" fxLayout="column">
          <div *ngFor="
              let prof_team of getFormArray('top_vids', 'fs');
              let i = index;
              last as last
            " fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
            <mat-form-field fxFlex="70%" appearance="outline" color="primary">
              <mat-label>Paste URL here</mat-label>
              <input type="url" matInput [formControlName]="i" />
            </mat-form-field>
            <button fxFlexAlign="center" *ngIf="last" fxLayoutAlign="center center"
              (click)="onRemoveControl('top_vids', 'fs')" mat-icon-button type="button" class="red center-button">
              <mat-icon class="material-icons-round">delete</mat-icon>
            </button>
            <button type="button" fxLayoutAlign="center center" *ngIf="last" mat-icon-button class="center-button green"
              [disabled]="!fsArrayForm.get('top_vids')?.valid" (click)="onAddControl('top_vids', 'fs')">
              <mat-icon class="material-icons-round">add_circle</mat-icon>
            </button>
          </div>
        </div>
      </div>

      <div fxFlex.gt-sm="100%" fxLayoutAlign.gt-sm="start center" fxLayout.lt-md="column">
        <button (click)="onSaveFreestylerArrayInfo()" class="primaryButton buttonText" [disabled]="!fsArrayForm.valid"
          type="button">
          Save Changes
        </button>
      </div>
    </form>
  </div> -->
  <!-- fs array form -->

  <!-- <span>
    <mat-divider></mat-divider>
  </span> -->

  <!-- social info form -->
  <!-- <div class="form-sm form" id="social-media">
    <p class="dash-h5 align">Social Media Info</p>
    <form [formGroup]="socialInfoForm" (ngSubmit)="onSaveSMInfo()" fxLayout="column" fxLayout.gt-sm="row wrap"
      fxLayoutGap.gt-sm="20px">
      <mat-form-field fxFlex.gt-sm="40%" color="primary">
        <span matPrefix>{{ ig }}</span>
        <input type="text" matInput name="ig" formControlName="ig" />
      </mat-form-field>
      <mat-form-field fxFlex.gt-sm="40%" color="primary">
        <span matPrefix>{{ fb }}</span>
        <input type="text" matInput name="fb" formControlName="fb" />
      </mat-form-field>

      <mat-form-field fxFlex.gt-sm="40%" color="primary">
        <span matPrefix>{{ tw }}</span>
        <input type="text" matInput name="tw" formControlName="tw" />
      </mat-form-field>

      <mat-form-field fxFlex.gt-sm="40%" color="primary">
        <span matPrefix>{{ yt }}</span>
        <input type="text" matInput name="yt" formControlName="yt" />
      </mat-form-field>

      <div fxFlex="100%" fxLayoutAlign.gt-sm="start center" fxLayout.lt-md="column">
        <button [disabled]="!socialInfoForm.valid || !socialInfoForm.dirty" class="primaryButton buttonText"
          type="button" (click)="onSaveSMInfo()">
          Save Changes
        </button>
      </div>
    </form>
  </div> -->
  <!-- social info form -->

  <!-- <span>
    <mat-divider></mat-divider>
  </span> -->

  <!-- player array form -->
  <!-- <div class="form" id="player-array">
    <p class="dash-h5 align">Previous Teams & Tournaments Info</p>
    <form [formGroup]="playerArrayForm" (ngSubmit)="onSavePlayerArrayInfo()" fxLayout="column" fxLayout.gt-sm="row wrap"
      fxLayoutGap.gt-sm="20px">
      <div fxFlex.gt-sm="100%" class="form" fxLayout="column" fxLayoutGap="16px">
        <p class="mat-caption align">Professional Teams you have played for</p>
        <p class="smaller-caption mat-caption align" *ngIf="getFormArray('prof_teams', 'player').length === 0">
          (No team added,
          <a (click)="onAddControl('prof_teams', 'player')">add one</a>)
        </p>
        <div formArrayName="prof_teams" fxLayout="column">
          <div *ngFor="
              let prof_team of getFormArray('prof_teams', 'player');
              let i = index;
              last as last
            " fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
            <mat-form-field fxFlex="70%" appearance="outline" color="primary">
              <mat-label>Add Team Name</mat-label>
              <input type="text" matInput [formControlName]="i" />
            </mat-form-field>
            <button fxFlexAlign="center" *ngIf="last" fxLayoutAlign="center center"
              (click)="onRemoveControl('prof_teams', 'player')" mat-icon-button type="button" class="red center-button">
              <mat-icon class="material-icons-round">delete</mat-icon>
            </button>
            <button type="button" fxLayoutAlign="center center" *ngIf="last" mat-icon-button class="center-button green"
              [disabled]="!playerArrayForm.get('prof_teams')?.valid" (click)="onAddControl('prof_teams', 'player')">
              <mat-icon class="material-icons-round">add_circle</mat-icon>
            </button>
          </div>
        </div>
      </div>

      <div fxFlex.gt-sm="100%" class="form" fxLayout="column" fxLayoutGap="16px">
        <p class="mat-caption align">
          Professional Tournaments you have played in
        </p>
        <p class="smaller-caption mat-caption align" *ngIf="getFormArray('prof_tours', 'player').length === 0">
          (No tournament added,
          <a (click)="onAddControl('prof_tours', 'player')">add one</a>)
        </p>
        <div formArrayName="prof_tours" fxLayout="column">
          <div *ngFor="
              let prof_tourn of getFormArray('prof_tours', 'player');
              let i = index;
              last as last
            " fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
            <mat-form-field fxFlex="70%" appearance="outline" color="primary">
              <mat-label>Add Tournament Name</mat-label>
              <input type="text" matInput [formControlName]="i" />
            </mat-form-field>

            <button fxLayoutAlign="center center" *ngIf="last" (click)="onRemoveControl('prof_tours', 'player')"
              mat-icon-button class="red center-button" type="button">
              <mat-icon class="material-icons-round">delete</mat-icon>
            </button><button *ngIf="last" class="center-button green" type="button" mat-icon-button
              fxLayoutAlign="center center" [disabled]="!playerArrayForm.get('prof_tours')?.valid"
              (click)="onAddControl('prof_tours', 'player')">
              <mat-icon class="material-icons-round">add_circle</mat-icon>
            </button>
          </div>
        </div>
      </div>

      <div fxFlex.gt-sm="100%" fxLayoutAlign.gt-sm="start center" fxLayout.lt-md="column">
        <button (click)="onSavePlayerArrayInfo()" class="primaryButton buttonText"
          [disabled]="!playerArrayForm.valid || isDisableArrayButton" type="button">
          Save Changes
        </button>
      </div>
    </form>
  </div> -->
  <!-- player array form -->

  <!-- <span>
    <mat-divider></mat-divider>
  </span> -->
</div>
<app-loading *ngIf="isLoaderShown"></app-loading>