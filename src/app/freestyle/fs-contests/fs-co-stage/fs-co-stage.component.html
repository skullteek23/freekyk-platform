<table
  mat-table
  [dataSource]="StageDataSource$ | async"
  class="full-width-table"
>
  <ng-container matColumnDef="freestyler">
    <th mat-header-cell *matHeaderCellDef>Freestyler</th>
    <td mat-cell *matCellDef="let fs">
      <div
        (click)="onViewProfile(fs.freestyler.id)"
        class="details"
        fxLayout="column"
        fxLayoutAlign="center start"
      >
        <span class="mat-body-2">
          {{ fs.freestyler.name | nameCombo: fs.freestyler.nickname }}
        </span>
        <span class="mat-caption">
          {{ fs.freestyler.age + ", " + fs.freestyler.country }}
        </span>
      </div>
    </td>
  </ng-container>

  <ng-container matColumnDef="submissionLink">
    <th mat-header-cell *matHeaderCellDef>Video Link</th>
    <td mat-cell *matCellDef="let fs">
      <button mat-icon-button (click)="onOpenVideo(fs.submissionLink)">
        <span class="material-icons round"> ondemand_video </span>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="cols"></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: cols"
    [ngClass]="{ underline: row === selectedRowIndex }"
    (mouseenter)="selectedRowIndex = selectedRowIndex === row ? -1 : row"
    (click)="selectedRowIndex = -1"
    (mouseleave)="selectedRowIndex = -1"
  ></tr>
</table>
<app-no-items-message
  *ngIf="(StageDataSource$ | async)?.length == 0"
  items="submissions"
>
</app-no-items-message>
